<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Halaman</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/jadwal-absensi.css">
</head>
<body>

  <header>
    <button id="btn-kembali" onclick="aksiKembali()" style="position:absolute; left:0; top:0; height:100%; width:8vh; border:none; border-right:2px solid #000; background:transparent; font-family:'Share Tech Mono',monospace; font-size:5vh; cursor:pointer; display:flex; align-items:center; justify-content:center;" onmouseover="this.style.background='#000';this.style.color='#fff'" onmouseout="this.style.background='transparent';this.style.color='#000'">←</button>
    <p>Header</p>
  </header>

  <main>
    <div class="panel">
      <div style="display:flex; align-items:center; justify-content:center; gap:15vw; height:100%; box-sizing:border-box;">

        <!-- BULAN -->
        <div style="display:flex; flex-direction:column; align-items:center; gap:0.8vh;">
          <div style="width:30vw; height:5vh; border:2px solid #000; display:flex; align-items:center; justify-content:center; position:relative;">
            <button id="btn-bulan" onclick="openModal('bulan')" disabled style="width:100%; height:100%; border:none; background:transparent; font-family:'Share Tech Mono',monospace; font-size:2.2vh; cursor:not-allowed; letter-spacing:0.05em; opacity:0.5;">— PILIH BULAN —</button>
            <button id="x-bulan" onclick="konfirmasiResetBulan()" style="display:none; position:absolute; right:0; top:0; height:100%; width:4vh; border:none; border-left:2px solid #000; background:transparent; font-family:'Share Tech Mono',monospace; font-size:2vh; cursor:pointer;" onmouseover="this.style.background='#000';this.style.color='#fff'" onmouseout="this.style.background='transparent';this.style.color='#000'">✕</button>
          </div>
          <div id="info-bulan" style="font-family:'Share Tech Mono',monospace; font-size:1.6vh; color:#555;">⏳ Memuat data bulan...</div>
        </div>

        <!-- UNIT -->
        <div style="display:flex; flex-direction:column; align-items:center; gap:0.8vh;">
          <div style="width:30vw; height:5vh; border:2px solid #000; display:flex; align-items:center; justify-content:center; position:relative;">
            <button id="btn-unit" onclick="openModal('unit')" disabled style="width:100%; height:100%; border:none; background:transparent; font-family:'Share Tech Mono',monospace; font-size:2.2vh; cursor:not-allowed; letter-spacing:0.05em; opacity:0.5;">— PILIH UNIT —</button>
            <button id="x-unit" onclick="konfirmasiResetUnit()" style="display:none; position:absolute; right:0; top:0; height:100%; width:4vh; border:none; border-left:2px solid #000; background:transparent; font-family:'Share Tech Mono',monospace; font-size:2vh; cursor:pointer;" onmouseover="this.style.background='#000';this.style.color='#fff'" onmouseout="this.style.background='transparent';this.style.color='#000'">✕</button>
          </div>
          <div id="info-unit" style="font-family:'Share Tech Mono',monospace; font-size:1.6vh; color:#555;">⏳ Memuat data unit...</div>
        </div>

      </div>
    </div>

    <!-- ── MODAL ───────────────────────────────── -->
    <div id="modal-overlay" onclick="closeModal()" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.45); z-index:100; align-items:center; justify-content:center;">
      <div id="modal-box" onclick="event.stopPropagation()" style="background:#fff; border:2px solid #000; width:50vw; max-height:70vh; display:flex; flex-direction:column; font-family:'Share Tech Mono',monospace; position:relative;">
        <div id="modal-title" style="height:5vh; border-bottom:2px solid #000; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:2.2vh; flex-shrink:0; position:relative;">
          <span id="modal-title-text"></span>
          <button id="modal-close-btn" onclick="closeModal()" style="position:absolute; right:0; top:0; height:100%; width:5vh; border:none; border-left:2px solid #000; background:transparent; font-family:'Share Tech Mono',monospace; font-size:2.2vh; cursor:pointer; display:flex; align-items:center; justify-content:center;" onmouseover="this.style.background='#000';this.style.color='#fff'" onmouseout="this.style.background='transparent';this.style.color='#000'">✕</button>
        </div>
        <div id="modal-content" style="overflow-y:auto; padding:1.5vh; display:grid; gap:1vh;"></div>
        <div id="modal-footer" style="height:5vh; border-top:2px solid #000; display:flex; align-items:center; justify-content:center; flex-shrink:0;">
          <button onclick="closeModal()" style="border:2px solid #000; background:#fff; padding:0.5vh 3vw; font-family:'Share Tech Mono',monospace; font-size:2vh; cursor:pointer;">TUTUP</button>
        </div>
      </div>
    </div>

    <!-- ── JADWAL ──────────────────────────────── -->
    <div class="jadwal">
      <div class="jadwal-judul">JADWAL XXXXXX UNIT XXX BULAN XXX</div>

      <!-- HEADER -->
      <div class="jadwal-header-wrapper">
        <table>
          <colgroup>
            <col class="col-no"><col class="col-nama">
            <col class="col-hari" data-col="1"><col class="col-hari" data-col="2"><col class="col-hari" data-col="3"><col class="col-hari" data-col="4"><col class="col-hari" data-col="5"><col class="col-hari" data-col="6"><col class="col-hari" data-col="7">
            <col class="col-hari" data-col="8"><col class="col-hari" data-col="9"><col class="col-hari" data-col="10"><col class="col-hari" data-col="11"><col class="col-hari" data-col="12"><col class="col-hari" data-col="13"><col class="col-hari" data-col="14">
            <col class="col-hari" data-col="15"><col class="col-hari" data-col="16"><col class="col-hari" data-col="17"><col class="col-hari" data-col="18"><col class="col-hari" data-col="19"><col class="col-hari" data-col="20"><col class="col-hari" data-col="21">
            <col class="col-hari" data-col="22"><col class="col-hari" data-col="23"><col class="col-hari" data-col="24"><col class="col-hari" data-col="25"><col class="col-hari" data-col="26"><col class="col-hari" data-col="27"><col class="col-hari" data-col="28">
            <col class="col-hari" data-col="29"><col class="col-hari" data-col="30"><col class="col-hari" data-col="31">
          </colgroup>
          <thead id="thead-header">
            <tr>
              <th class="col-no" rowspan="2">NO</th>
              <th class="col-nama" rowspan="2">NAMA</th>
              <th class="col-hari" data-col="1"></th><th class="col-hari" data-col="2"></th><th class="col-hari" data-col="3"></th><th class="col-hari" data-col="4"></th><th class="col-hari" data-col="5"></th><th class="col-hari" data-col="6"></th><th class="col-hari" data-col="7"></th>
              <th class="col-hari" data-col="8"></th><th class="col-hari" data-col="9"></th><th class="col-hari" data-col="10"></th><th class="col-hari" data-col="11"></th><th class="col-hari" data-col="12"></th><th class="col-hari" data-col="13"></th><th class="col-hari" data-col="14"></th>
              <th class="col-hari" data-col="15"></th><th class="col-hari" data-col="16"></th><th class="col-hari" data-col="17"></th><th class="col-hari" data-col="18"></th><th class="col-hari" data-col="19"></th><th class="col-hari" data-col="20"></th><th class="col-hari" data-col="21"></th>
              <th class="col-hari" data-col="22"></th><th class="col-hari" data-col="23"></th><th class="col-hari" data-col="24"></th><th class="col-hari" data-col="25"></th><th class="col-hari" data-col="26"></th><th class="col-hari" data-col="27"></th><th class="col-hari" data-col="28"></th>
              <th class="col-hari" data-col="29"></th><th class="col-hari" data-col="30"></th><th class="col-hari" data-col="31"></th>
            </tr>
            <tr id="tr-tanggal">
              <th class="col-hari" data-col="1"></th><th class="col-hari" data-col="2"></th><th class="col-hari" data-col="3"></th><th class="col-hari" data-col="4"></th><th class="col-hari" data-col="5"></th><th class="col-hari" data-col="6"></th><th class="col-hari" data-col="7"></th>
              <th class="col-hari" data-col="8"></th><th class="col-hari" data-col="9"></th><th class="col-hari" data-col="10"></th><th class="col-hari" data-col="11"></th><th class="col-hari" data-col="12"></th><th class="col-hari" data-col="13"></th><th class="col-hari" data-col="14"></th>
              <th class="col-hari" data-col="15"></th><th class="col-hari" data-col="16"></th><th class="col-hari" data-col="17"></th><th class="col-hari" data-col="18"></th><th class="col-hari" data-col="19"></th><th class="col-hari" data-col="20"></th><th class="col-hari" data-col="21"></th>
              <th class="col-hari" data-col="22"></th><th class="col-hari" data-col="23"></th><th class="col-hari" data-col="24"></th><th class="col-hari" data-col="25"></th><th class="col-hari" data-col="26"></th><th class="col-hari" data-col="27"></th><th class="col-hari" data-col="28"></th>
              <th class="col-hari" data-col="29"></th><th class="col-hari" data-col="30"></th><th class="col-hari" data-col="31"></th>
            </tr>
          </thead>
        </table>
      </div>

      <!-- BODY -->
      <div style="display:flex; flex-direction:row; width:100;">
        <div class="jadwal-body-wrapper" style="flex:1;">
          <table>
            <colgroup>
              <col class="col-no"><col class="col-nama">
              <col class="col-hari" data-col="1"><col class="col-hari" data-col="2"><col class="col-hari" data-col="3"><col class="col-hari" data-col="4"><col class="col-hari" data-col="5"><col class="col-hari" data-col="6"><col class="col-hari" data-col="7">
              <col class="col-hari" data-col="8"><col class="col-hari" data-col="9"><col class="col-hari" data-col="10"><col class="col-hari" data-col="11"><col class="col-hari" data-col="12"><col class="col-hari" data-col="13"><col class="col-hari" data-col="14">
              <col class="col-hari" data-col="15"><col class="col-hari" data-col="16"><col class="col-hari" data-col="17"><col class="col-hari" data-col="18"><col class="col-hari" data-col="19"><col class="col-hari" data-col="20"><col class="col-hari" data-col="21">
              <col class="col-hari" data-col="22"><col class="col-hari" data-col="23"><col class="col-hari" data-col="24"><col class="col-hari" data-col="25"><col class="col-hari" data-col="26"><col class="col-hari" data-col="27"><col class="col-hari" data-col="28">
              <col class="col-hari" data-col="29"><col class="col-hari" data-col="30"><col class="col-hari" data-col="31">
            </colgroup>
            <tbody id="tbody-data">
              <tr><td class="col-no"></td><td class="col-nama"></td><td class="col-hari" data-col="1"></td><td class="col-hari" data-col="2"></td><td class="col-hari" data-col="3"></td><td class="col-hari" data-col="4"></td><td class="col-hari" data-col="5"></td><td class="col-hari" data-col="6"></td><td class="col-hari" data-col="7"></td><td class="col-hari" data-col="8"></td><td class="col-hari" data-col="9"></td><td class="col-hari" data-col="10"></td><td class="col-hari" data-col="11"></td><td class="col-hari" data-col="12"></td><td class="col-hari" data-col="13"></td><td class="col-hari" data-col="14"></td><td class="col-hari" data-col="15"></td><td class="col-hari" data-col="16"></td><td class="col-hari" data-col="17"></td><td class="col-hari" data-col="18"></td><td class="col-hari" data-col="19"></td><td class="col-hari" data-col="20"></td><td class="col-hari" data-col="21"></td><td class="col-hari" data-col="22"></td><td class="col-hari" data-col="23"></td><td class="col-hari" data-col="24"></td><td class="col-hari" data-col="25"></td><td class="col-hari" data-col="26"></td><td class="col-hari" data-col="27"></td><td class="col-hari" data-col="28"></td><td class="col-hari" data-col="29"></td><td class="col-hari" data-col="30"></td><td class="col-hari" data-col="31"></td></tr>
              <tr><td class="col-no"></td><td class="col-nama"></td><td class="col-hari" data-col="1"></td><td class="col-hari" data-col="2"></td><td class="col-hari" data-col="3"></td><td class="col-hari" data-col="4"></td><td class="col-hari" data-col="5"></td><td class="col-hari" data-col="6"></td><td class="col-hari" data-col="7"></td><td class="col-hari" data-col="8"></td><td class="col-hari" data-col="9"></td><td class="col-hari" data-col="10"></td><td class="col-hari" data-col="11"></td><td class="col-hari" data-col="12"></td><td class="col-hari" data-col="13"></td><td class="col-hari" data-col="14"></td><td class="col-hari" data-col="15"></td><td class="col-hari" data-col="16"></td><td class="col-hari" data-col="17"></td><td class="col-hari" data-col="18"></td><td class="col-hari" data-col="19"></td><td class="col-hari" data-col="20"></td><td class="col-hari" data-col="21"></td><td class="col-hari" data-col="22"></td><td class="col-hari" data-col="23"></td><td class="col-hari" data-col="24"></td><td class="col-hari" data-col="25"></td><td class="col-hari" data-col="26"></td><td class="col-hari" data-col="27"></td><td class="col-hari" data-col="28"></td><td class="col-hari" data-col="29"></td><td class="col-hari" data-col="30"></td><td class="col-hari" data-col="31"></td></tr>
              <tr><td class="col-no"></td><td class="col-nama"></td><td class="col-hari" data-col="1"></td><td class="col-hari" data-col="2"></td><td class="col-hari" data-col="3"></td><td class="col-hari" data-col="4"></td><td class="col-hari" data-col="5"></td><td class="col-hari" data-col="6"></td><td class="col-hari" data-col="7"></td><td class="col-hari" data-col="8"></td><td class="col-hari" data-col="9"></td><td class="col-hari" data-col="10"></td><td class="col-hari" data-col="11"></td><td class="col-hari" data-col="12"></td><td class="col-hari" data-col="13"></td><td class="col-hari" data-col="14"></td><td class="col-hari" data-col="15"></td><td class="col-hari" data-col="16"></td><td class="col-hari" data-col="17"></td><td class="col-hari" data-col="18"></td><td class="col-hari" data-col="19"></td><td class="col-hari" data-col="20"></td><td class="col-hari" data-col="21"></td><td class="col-hari" data-col="22"></td><td class="col-hari" data-col="23"></td><td class="col-hari" data-col="24"></td><td class="col-hari" data-col="25"></td><td class="col-hari" data-col="26"></td><td class="col-hari" data-col="27"></td><td class="col-hari" data-col="28"></td><td class="col-hari" data-col="29"></td><td class="col-hari" data-col="30"></td><td class="col-hari" data-col="31"></td></tr>
              <tr><td class="col-no"></td><td class="col-nama"></td><td class="col-hari" data-col="1"></td><td class="col-hari" data-col="2"></td><td class="col-hari" data-col="3"></td><td class="col-hari" data-col="4"></td><td class="col-hari" data-col="5"></td><td class="col-hari" data-col="6"></td><td class="col-hari" data-col="7"></td><td class="col-hari" data-col="8"></td><td class="col-hari" data-col="9"></td><td class="col-hari" data-col="10"></td><td class="col-hari" data-col="11"></td><td class="col-hari" data-col="12"></td><td class="col-hari" data-col="13"></td><td class="col-hari" data-col="14"></td><td class="col-hari" data-col="15"></td><td class="col-hari" data-col="16"></td><td class="col-hari" data-col="17"></td><td class="col-hari" data-col="18"></td><td class="col-hari" data-col="19"></td><td class="col-hari" data-col="20"></td><td class="col-hari" data-col="21"></td><td class="col-hari" data-col="22"></td><td class="col-hari" data-col="23"></td><td class="col-hari" data-col="24"></td><td class="col-hari" data-col="25"></td><td class="col-hari" data-col="26"></td><td class="col-hari" data-col="27"></td><td class="col-hari" data-col="28"></td><td class="col-hari" data-col="29"></td><td class="col-hari" data-col="30"></td><td class="col-hari" data-col="31"></td></tr>
            </tbody>
          </table>
        </div><!-- /.jadwal-body-wrapper -->
        <div class="jadwal-vscrollbar" id="vscrollbar">
          <div class="jadwal-vscrollbar-thumb" id="vscrollbar-thumb"></div>
        </div>
      </div><!-- /flex row -->

      <div style="height:1px; background:#000; flex-shrink:0;"></div>
      <div class="jadwal-scrollbar">
        <div class="jadwal-scrollbar-thumb"></div>
      </div>
    </div><!-- /.jadwal -->

    <div class="panel-bottom">
      <div style="display:flex; align-items:center; justify-content:center; gap:4vw; height:100%; box-sizing:border-box;">
        <button id="btn-download" onclick="downloadJadwal()" disabled style="width:25vw; height:5vh; border:2px solid #000; background:transparent; font-family:'Share Tech Mono',monospace; font-size:clamp(10px, 1.8vh, 16px); cursor:not-allowed; opacity:0.5; letter-spacing:0.05em; white-space:nowrap; overflow:hidden;" onmouseover="if(!this.disabled)this.style.background='#000';if(!this.disabled)this.style.color='#fff'" onmouseout="this.style.background='transparent';this.style.color='#000'">⬇ DOWNLOAD</button>
        <button id="btn-edit" onclick="editJadwal()" disabled style="width:25vw; height:5vh; border:2px solid #000; background:transparent; font-family:'Share Tech Mono',monospace; font-size:clamp(10px, 1.8vh, 16px); cursor:not-allowed; opacity:0.5; letter-spacing:0.05em; white-space:nowrap; overflow:hidden;" onmouseover="if(!this.disabled)this.style.background='#000';if(!this.disabled)this.style.color='#fff'" onmouseout="this.style.background='transparent';this.style.color='#000'">✎ EDIT JADWAL</button>
      </div>
    </div>
  </main>

  <footer><p>Footer</p></footer>

  <script src="../js/jadwal-absensi.js"></script>
  <script src="../js/jadwal-absensi-edit.js"></script>
</body>
</html>